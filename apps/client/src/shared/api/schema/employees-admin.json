{"openapi":"3.0.0","paths":{"/workers":{"post":{"operationId":"WorkersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWorkerDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerResponseDto"}}}},"400":{"description":"Не удалось создать пользователя","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Workers"]},"patch":{"operationId":"WorkersController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWorkerDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerResponseDto"}}}},"400":{"description":"Не удалось обновить работника","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Workers"]}},"/workers/read":{"post":{"operationId":"WorkersController_findAll","parameters":[],"requestBody":{"required":false,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetWorkerDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WorkerResponseDto"}}}}},"400":{"description":"Не удалось найти работников","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Workers"]}},"/workers/{id}":{"get":{"operationId":"WorkersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerResponseDto"}}}},"400":{"description":"Не удалось найти работника","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}},"404":{"description":"Работник не найден","schema":{"example":{"message":"Работник не найден","error":"Not Found","statusCode":404}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Workers"]},"delete":{"operationId":"WorkersController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerResponseDto"}}}},"400":{"description":"Не удалось удалить работника","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}},"404":{"description":"Невозможно удалить работника, такого работника не существует","schema":{"example":{"message":"Невозможно удалить работника, такого работника не существует","error":"Not Found","statusCode":404}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Workers"]}},"/departments":{"get":{"operationId":"DepartmentsController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DepartmentEntity"}}}}},"400":{"description":"Не удалось найти отделы","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Departments"]},"post":{"operationId":"DepartmentsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDepartmentDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentEntity"}}}},"400":{"description":"Не удалось создать отдел","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Departments"]},"patch":{"operationId":"DepartmentsController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDepartmentDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentEntity"}}}},"400":{"description":"Не удалось обновить отдел","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Departments"]}},"/departments/{id}":{"get":{"operationId":"DepartmentsController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentEntity"}}}},"400":{"description":"Не удалось найти отдел","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Departments"]},"delete":{"operationId":"DepartmentsController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentEntity"}}}},"400":{"description":"Не удалось удалить отдел","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}},"404":{"description":"Невозможно удалить отдел, такого отдела не существует","schema":{"example":{"message":"Невозможно удалить отдел, такого отдела не существует","error":"Not Found","statusCode":404}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Departments"]}},"/job-titles":{"post":{"operationId":"JobTitlesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateJobTitleDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobTitleEntity"}}}},"400":{"description":"Не удалось создать должность","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Job titles"]},"get":{"operationId":"JobTitlesController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/JobTitleEntity"}}}}},"400":{"description":"Не удалось получить должности","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Job titles"]},"patch":{"operationId":"JobTitlesController_update","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateJobTitleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobTitleEntity"}}}},"400":{"description":"Не удалось обновить должность","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Job titles"]}},"/job-titles/{id}":{"get":{"operationId":"JobTitlesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobTitleEntity"}}}},"400":{"description":"Не удалось получить должность","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}},"404":{"description":"Должность не найдена","schema":{"example":{"message":"Должность не найдена","error":"Not Found","statusCode":404}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Job titles"]},"delete":{"operationId":"JobTitlesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobTitleEntity"}}}},"400":{"description":"Не удалось удалить должность","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}},"404":{"description":"Невозможно удалить должность, такой должности не существует","schema":{"example":{"message":"Невозможно удалить должность, такой должности не существует","error":"Not Found","statusCode":404}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Job titles"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerResponseDto"}}}},"401":{"description":"Пользователь не авторизован или неверные данные","schema":{"example":{"message":"Пользователь не авторизован или неверные данные","error":"Unauthorized","statusCode":401}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Auth"]}},"/auth/account":{"get":{"operationId":"AuthController_account","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkerResponseDto"}}}},"401":{"description":"Пользователь не авторизован или неверные данные","schema":{"example":{"message":"Пользователь не авторизован или неверные данные","error":"Unauthorized","statusCode":401}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Auth"]}},"/auth/logout":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"200":{"description":"Успешный выход"},"401":{"description":"Пользователь не авторизован или неверные данные","schema":{"example":{"message":"Пользователь не авторизован или неверные данные","error":"Unauthorized","statusCode":401}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Auth"]}},"/auth/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"200":{"description":"Успешная регистрация"},"400":{"description":"Не удалось зарегистрироваться","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Auth"]}},"/auth/register-existed":{"post":{"operationId":"AuthController_registerExisted","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterExistedDto"}}}},"responses":{"200":{"description":"Успешная регистрация"},"400":{"description":"Не удалось зарегистрироваться","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Auth"]}},"/auth/account/exists":{"post":{"operationId":"AuthController_hasAccount","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HasAccountDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExistedAccountResponseDto"}}}},"400":{"description":"Нерпавильный формат запроса","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorDto"}}}}},"tags":["Auth"]}}},"info":{"title":"Employees Admin","description":"The Employees Admin API description","version":"0.1","contact":{}},"tags":[],"servers":[{"url":"/api"}],"components":{"schemas":{"CreateWorkerDto":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"patronymic":{"type":"string"},"phone":{"type":"string"},"dateOfBirth":{"format":"date-time","type":"string","description":"Строка даты в формате ISO","example":"2024-05-04"},"jobTitleId":{"type":"number"},"departamentId":{"type":"number"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN"]}},"required":["firstname","lastname","phone","jobTitleId","departamentId","email"]},"OmitTypeClass":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"}},"required":["id","name"]},"AccountInWorker":{"type":"object","properties":{"id":{"type":"number"},"email":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN"]}},"required":["id","email","role"]},"WorkerResponseDto":{"type":"object","properties":{"id":{"type":"number"},"firstname":{"type":"string"},"lastname":{"type":"string"},"patronymic":{"type":"string"},"phone":{"type":"string"},"dateOfEmployed":{"format":"date-time","type":"string"},"dateOfBirth":{"format":"date-time","type":"string"},"dateOfLayoffs":{"format":"date-time","type":"string"},"image":{"type":"string"},"jobTitle":{"$ref":"#/components/schemas/OmitTypeClass"},"department":{"$ref":"#/components/schemas/OmitTypeClass"},"account":{"$ref":"#/components/schemas/AccountInWorker"}},"required":["id","firstname","lastname","phone","dateOfEmployed","jobTitle","department","account"]},"ErrorDto":{"type":"object","properties":{"message":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"error":{"type":"string"},"statusCode":{"type":"number"}},"required":["message","error","statusCode"]},"PartialTypeClass":{"type":"object","properties":{"id":{"type":"number"},"email":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN"]}}},"SearchWorkerEntity":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"patronymic":{"type":"string"},"phone":{"type":"string"},"dateOfEmployed":{"format":"date-time","type":"string"},"dateOfBirth":{"format":"date-time","type":"string"},"dateOfLayoffs":{"format":"date-time","type":"string"},"departamentId":{"type":"number"},"jobTitleId":{"type":"number"},"account":{"$ref":"#/components/schemas/PartialTypeClass"}}},"PagingOptions":{"type":"object","properties":{"page":{"type":"number"},"size":{"type":"number"}},"required":["page","size"]},"GetWorkerDto":{"type":"object","properties":{"search":{"$ref":"#/components/schemas/SearchWorkerEntity"},"paging":{"$ref":"#/components/schemas/PagingOptions"},"orderedBy":{"type":"string","enum":["id","firstname","lastname","patronymic","phone","dateOfEmployed","dateOfBirth","dateOfLayoffs"]},"direction":{"type":"string","enum":["asc","desc"]}}},"UpdateWorkerDto":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"patronymic":{"type":"string"},"phone":{"type":"string"},"dateOfBirth":{"format":"date-time","type":"string","description":"Строка даты в формате ISO","example":"2024-05-04"},"jobTitleId":{"type":"number"},"departamentId":{"type":"number"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN"]},"id":{"type":"number"}},"required":["id"]},"JobTitleEntity":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"departamentId":{"type":"number","nullable":true}},"required":["id","name","departamentId"]},"DepartmentEntity":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"jobTitles":{"type":"array","items":{"$ref":"#/components/schemas/JobTitleEntity"}}},"required":["id","name"]},"CreateDepartmentDto":{"type":"object","properties":{"name":{"type":"string"},"jobTitles":{"type":"array","items":{"type":"number"}}},"required":["name"]},"UpdateDepartmentDto":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"jobTitles":{"type":"array","items":{"type":"number"}}},"required":["id","name"]},"CreateJobTitleDto":{"type":"object","properties":{"name":{"type":"string"},"departamentId":{"type":"number","nullable":true}},"required":["name"]},"UpdateJobTitleDto":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"departamentId":{"type":"number","nullable":true}}},"LoginDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"RegisterDto":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"patronymic":{"type":"string"},"phone":{"type":"string"},"dateOfBirth":{"format":"date-time","type":"string","description":"Строка даты в формате ISO","example":"2024-05-04"},"jobTitleId":{"type":"number"},"departamentId":{"type":"number"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN"]}},"required":["firstname","lastname","phone","jobTitleId","departamentId","email"]},"RegisterExistedDto":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"HasAccountDto":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"ExistedAccountResponseDto":{"type":"object","properties":{"existed":{"type":"boolean"}},"required":["existed"]}}}}